new entry "Target_Darkness"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "SpellContainerID" ""
data "ContainerSpells" "Target_Darkness_Point;Target_Darkness_Object"
data "SpellProperties" "GROUND:Summon(bdddd432-a5fd-4110-bfc2-90d7792631a0, 100,Projectile_AiHelper_Darkness,,Darkness,DARKNESS)"
data "AreaRadius" "5"
// Darkness
data "DisplayName" "h7a191deagde7ag4ae9g3a09gb781fcff8b65;1"
// Choose a point within range to fill a [1] radius for the duration. The darkness spreads around corners.&lt;br&gt;&lt;Br&gt;A creature with &lt;LSTag Type="Passive" Tooltip="Darkvision"&gt;darkvision&lt;/LSTag&gt; can't see through this darkness, and nonmagical light can't illuminate it.
data "Description" "hf645e523dabe4f4582d14d37e5300b4a3522;4"
data "DescriptionParams" "Distance(5)"
data "SpellFlags" "HasVerbalComponent;IsSpell;IsConcentration;Stealth;Invisible;IsLinkedSpellContainer"
data "TooltipStatusApply" "ApplyStatus(DARKNESS_SPELLSTATUS,100,100)"

new entry "Target_Darkness_Point"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "SpellContainerID" "Target_Darkness"
// Darkness: Sphere
data "DisplayName" "h110ee408gc911g4ad4g964bga0a79b5b352d;1"

new entry "Target_Darkness_Object"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "SpellContainerID" "Target_Darkness"
data "SpellProperties" "IF(Item()):ApplyStatus(DARKNESS_TECHNICAL,100,100);IF(Character()):ApplyEquipmentStatus(MainHand,DARKNESS_TECHNICAL,100,100)"
data "TargetConditions" "TD_NotInDaylight(context.Target) and (Item() or (HasWeaponInMainHand() and Self()))"
data "AreaRadius" ""
// Darkness: Enchant Item
data "DisplayName" "h7a6a0d14g571eg4094g8c55gcec7076c7357;1"
// Choose an object you are holding or one that isn't being worn or carried.&lt;br&gt;&lt;Br&gt;The darkness will emanate from the object and move with it. Completely covering the source of the darkness with an opaque object, such as a bowl or a helm, blocks the darkness.
data "Description" "h87a8298cg0030g402eg9be0g682be6159eb9;1"
data "TooltipStatusApply" "ApplyStatus(DARKNESS_SPELLSTATUS,100,100)"
data "CombatAIOverrideSpell" "Target_Darkness_Object_AI"

new entry "Target_Darkness_Sorcerer"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Sorcerer"
data "SpellContainerID" ""
data "ContainerSpells" "Target_Darkness_Sorcerer_Point;Target_Darkness_Sorcerer_Object"
data "SpellProperties" "GROUND:Summon(bdddd432-a5fd-4110-bfc2-90d7792631a0, 100,Projectile_AiHelper_Darkness,,Darkness,DARKNESS);GROUND:ApplyStatus(SELF,EYESOFTHEDARK_DARKNESS,100,100)"
data "SpellFlags" "HasVerbalComponent;IsSpell;IsConcentration;Stealth;Invisible;IsLinkedSpellContainer"

new entry "Target_Darkness_Sorcerer_Point"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Sorcerer"
data "SpellContainerID" "Target_Darkness_Sorcerer"
// Darkness: Sphere
data "DisplayName" "h110ee408gc911g4ad4g964bga0a79b5b352d;1"

new entry "Target_Darkness_Sorcerer_Object"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Sorcerer"
data "SpellContainerID" "Target_Darkness_Sorcerer"
data "SpellProperties" "IF(Item()):ApplyStatus(DARKNESS_TECHNICAL,100,100);IF(Character()):ApplyEquipmentStatus(MainHand,DARKNESS_TECHNICAL_SORCERER,100,100);GROUND:ApplyStatus(SELF,EYESOFTHEDARK_DARKNESS,100,100)"
data "TargetConditions" "TD_NotInDaylight(context.Target) and (Item() or (HasWeaponInMainHand() and Self()))"
data "AreaRadius" ""
// Darkness: Enchant Item
data "DisplayName" "h7a6a0d14g571eg4094g8c55gcec7076c7357;1"

new entry "Target_Darkness_Object_AI"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
// AI uses target conditions to choose a target
// This simplifies it, so they don't try to cast Darkness on a random chair
data "TargetConditions" "TD_NotInDaylight(context.Target) and ((HasWeaponInMainHand() and Self()))"
data "CombatAIOverrideSpell" ""

new entry "Target_Darkness_9"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_9;Target_Darkness_Object_9"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:9"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "9"

new entry "Target_Darkness_Point_9"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_9"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:9"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "9"

new entry "Target_Darkness_Object_9"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_9"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:9"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "9"

new entry "Target_Darkness_8"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_8;Target_Darkness_Object_8"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:8"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "8"

new entry "Target_Darkness_Point_8"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_8"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:8"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "8"

new entry "Target_Darkness_Object_8"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_8"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:8"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "8"

new entry "Target_Darkness_7"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_7;Target_Darkness_Object_7"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:7"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "7"

new entry "Target_Darkness_Point_7"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_7"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:7"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "7"

new entry "Target_Darkness_Object_7"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_7"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:7"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "7"

new entry "Target_Darkness_6"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_6;Target_Darkness_Object_6"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:6"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "6"

new entry "Target_Darkness_Point_6"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_6"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:6"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "6"

new entry "Target_Darkness_Object_6"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_6"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:6"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "6"

new entry "Target_Darkness_5"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_5;Target_Darkness_Object_5"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:5"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "5"

new entry "Target_Darkness_Point_5"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_5"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:5"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "5"

new entry "Target_Darkness_Object_5"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_5"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:5"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "5"

new entry "Target_Darkness_4"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_4;Target_Darkness_Object_4"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:4"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "4"

new entry "Target_Darkness_Point_4"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_4"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:4"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "4"

new entry "Target_Darkness_Object_4"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_4"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:4"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "4"

new entry "Target_Darkness_3"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_3;Target_Darkness_Object_3"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:3"
data "RootSpellID" "Target_Darkness"
data "PowerLevel" "3"

new entry "Target_Darkness_Point_3"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_3"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:3"
data "RootSpellID" "Target_Darkness_Point"
data "PowerLevel" "3"

new entry "Target_Darkness_Object_3"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_3"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:3"
data "RootSpellID" "Target_Darkness_Object"
data "PowerLevel" "3"

new entry "Target_Darkness_DrowMagic"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_DrowMagic;Target_Darkness_Object_DrowMagic"
data "Cooldown" "OncePerRest"
data "UseCosts" "ActionPoint:1"

new entry "Target_Darkness_Point_DrowMagic"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Point"
data "SpellContainerID" "Target_Darkness_DrowMagic"
data "Cooldown" "OncePerRest"
data "UseCosts" "ActionPoint:1"

new entry "Target_Darkness_Object_DrowMagic"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object"
data "SpellContainerID" "Target_Darkness_DrowMagic"
data "Cooldown" "OncePerRest"
data "UseCosts" "ActionPoint:1"

new entry "Target_Darkness_Monk"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "ContainerSpells" "Target_Darkness_Point_Monk;Target_Darkness_Object_Monk"
data "Level" ""
data "DisplayName" "h57dc8707g2a5fg4129g8705g8edf2b367a59;2"
data "PrepareSound" "Vocal_Component_Shadow_Monk"
data "CastSound" "Vocal_Component_Stop"
data "TargetSound" "Vocal_Component_Stop"
data "VocalComponentSound" "Vocal_Component_Stop"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "SpellAnimation" "85c2d091-d84a-44c1-8361-20c5ce7149f1,,;,,;ea8d873d-2e21-48c3-ae4a-a412e6809da0,ea8d873d-2e21-48c3-ae4a-a412e6809da0,ea8d873d-2e21-48c3-ae4a-a412e6809da0;8d841313-e287-4ca4-bf4c-b23adc2e2db9,,;c70b4b2a-0a53-47e2-a455-b8cf2e7cd862,,;,,;992158f7-2b13-4519-95de-868325b57443,,;,,;,,"
data "SpellFlags" "HasVerbalComponent;IsConcentration;Stealth;Invisible;IsLinkedSpellContainer"
data "PrepareEffect" "a0458d31-f8ef-419a-8708-5715c81e91d3"
data "CastEffect" "a0214ac3-c122-4516-9f36-fd53ba96f4f1"
data "PositionEffect" "5ab29886-b6c1-41b8-af40-32f2d3139a82"

new entry "Target_Darkness_Point_Monk"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Monk"
data "SpellContainerID" "Target_Darkness_Monk"
data "DisplayName" "h110ee408gc911g4ad4g964bga0a79b5b352d;1"
data "UseCosts" "ActionPoint:1;KiPoint:2"

new entry "Target_Darkness_Object_Monk"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Monk"
data "SpellContainerID" "Target_Darkness_Monk"
data "SpellProperties" "IF(Item()):ApplyStatus(DARKNESS_TECHNICAL,100,100);IF(Character()):ApplyEquipmentStatus(MainHand,DARKNESS_TECHNICAL,100,100)"
data "TargetConditions" "TD_NotInDaylight(context.Target) and (Item() or (HasWeaponInMainHand() and Self()))"
data "AreaRadius" ""
// Darkness: Enchant Item
data "DisplayName" "h7a6a0d14g571eg4094g8c55gcec7076c7357;1"
// Choose an object you are holding or one that isn't being worn or carried.&lt;br&gt;&lt;Br&gt;The darkness will emanate from the object and move with it. Completely covering the source of the darkness with an opaque object, such as a bowl or a helm, blocks the darkness.
data "Description" "h87a8298cg0030g402eg9be0g682be6159eb9;1"
data "CombatAIOverrideSpell" "Target_Darkness_Object_Monk_AI"

new entry "Target_Darkness_Object_Monk_AI"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness_Object_Monk"
data "TargetConditions" "TD_NotInDaylight(context.Target) and ((HasWeaponInMainHand() and Self()))"
data "CombatAIOverrideSpell" ""

// Being much less punishing now than the original Darkness, bringing the duration up to the correct value
new entry "Target_LOW_HouseOfGrief_Darkness_4"
type "SpellData"
data "SpellType" "Target"
using "Target_LOW_HouseOfGrief_Darkness_4"
data "SpellProperties" "GROUND:Summon(bdddd432-a5fd-4110-bfc2-90d7792631a0, 100,Projectile_AiHelper_Darkness,,Darkness,DARKNESS)"

// Shar's Spear of Evening - Edge of Darkness attack
new entry "Target_DEN_Apprentice_DaggerOfShar_Spell"
type "SpellData"
data "SpellType" "Target"
using "Target_DEN_Apprentice_DaggerOfShar_Spell"
data "AreaRadius" "3"
data "SpellProperties" "GROUND:ExecuteWeaponFunctors(MainHand); GROUND:Summon(bdddd432-a5fd-4110-bfc2-90d7792631a0, 3,,,Darkness,DARKNESS_SHAR)"
data "TooltipStatusApply" "ApplyStatus(DARKNESS_SPELLSTATUS,100,3)"

// Viconia's spell she casts on allies
new entry "Target_LOW_Viconia_DarkSentinel"
type "SpellData"
data "SpellType" "Target"
using "Target_LOW_Viconia_DarkSentinel"
data "SpellProperties" "ApplyStatus(LOW_VICONIA_DARKSANCTUARY,100,2);GROUND:Summon(bdddd432-a5fd-4110-bfc2-90d7792631a0, 2,,,Darkness,DARKNESS_INKBLOT)"